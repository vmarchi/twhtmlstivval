<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it" xml:lang="it">
<head>
    <meta charset="UTF-8" />
    <title>Gruppo Stark | City Notifier</title>
    <script src="lib/jquery-ui-1.10.3/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="lib/jquery-ui-1.10.3/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
    <script src="lib/DataTables-1.9.4/media/js/jquery.dataTables.js" type="text/javascript"></script>
    <script src="js/effects.js" type="text/javascript"></script>
    <script src="js/listeners.js" type="text/javascript"></script>
    <script src="js/loaderDesktop.js" type="text/javascript"></script>
    <script src="js/requestHandler.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="style/jquery-ui-1.10.3.custom.min.css"/>
    <link rel="stylesheet" type="text/css" href="style/style.css"/>
    <link rel="stylesheet" type="text/css" href="style/home.css"/>
    <link rel="stylesheet" type="text/css" href="style/notification.css"/>
    <link rel="stylesheet" type="text/css" href="style/tableStyle.css"/>
    <script>
        $(document).ready(function() {
            $( "button" )
                    .button()
                    .click(function( event ) {
                        event.preventDefault();
                    });
            $( ".date")
                    .datepicker()
        });
    </script>
    <script>
        $(document).ready(function() {
            // run the currently selected effect
            $("#effectLogin").hide();
            function runEffect() {
                // get effect type from
                var selectedEffect = "blind";
                // most effect types need no options passed by default
                var options = {};
                // some effects have required parameters
                if ( selectedEffect === "scale" ) {
                    options = { percent: 0 };
                } else if ( selectedEffect === "size" ) {
                    options = { to: { width: 200, height: 60 } };
                }
                // run the effect
                $("#effectLogin").toggle( selectedEffect, options, 100 );

            }
            // set effect from select menu value
            $( "#loginDropdown" ).click(function() {
                runEffect();
                return false;
            })
        });
    </script>

    <!-- Visualizzazione delle tabelle -->
    <script>
        $(document).ready(function() {
            $('#notificationCenter').dataTable();
            $('#eventListTable').dataTable();
        } );
    </script>
    <!-- Script per la visualizzazione del centro notifiche -->
    <script>
        $(document).ready(function() {
            // run the currently selected effect
            $("#notificationCenterContainer").hide();
            function runEffect() {
                // get effect type from
                var selectedEffect = "slide";
                // most effect types need no options passed by default
                var options = {};
                // some effects have required parameters
                if ( selectedEffect === "scale" ) {
                    options = { percent: 0 };
                } else if ( selectedEffect === "size" ) {
                    options = { to: { width: 200, height: 60 } };
                }
                // run the effect
                $("#notificationCenterContainer").toggle( selectedEffect, options, 100 );

            }
            // set effect from select menu value
            $( "#notificationOpener" ).click(function() {
                runEffect();
                return false;
            })
        });
    </script>
    <!-- Script per la visualizzazione del dialogBox contenente la form di ricerca di eventi -->
    <script>
        $(document).ready(function() {
            var status="close";
            function runEffect() {
                if(status==="close") {
                    status="open";
                    $("#effectSearch").dialog(status);
                }
                else {
                    status="close";
                    $("#effectSearch").dialog(status);
                }
            }
            //Definisco le proprietà di comparsa/dissolvenza di un dialog
            $( "#effectSearch" ).dialog({
                autoOpen: false,
                show: {
                    effect: "fade",
                    duration: 100
                },
                hide: {
                    effect: "fade",
                    duration: 100
                }
            });

            $( "#searchShow" ).click(function() {
                runEffect();
            });
        });
    </script>
    <!-- Script per la visualizzazione del dialogBox contenente la lista degli Eventi (il risultato della ricerca) -->
    <script>
        $(document).ready(function() {
            var status="close";
            function runEffect() {
                if(status==="close") {
                    status="open";
                    $("#effectList").dialog(status);
                }
                else {
                    status="close";
                    $("#effectList").dialog(status);
                }
            }
            //Definisco le proprietà di comparsa/dissolvenza di un dialog
            $( "#effectList" ).dialog({
                autoOpen: false,
                show: {
                    effect: "fade",
                    duration: 100
                },
                hide: {
                    effect: "fade",
                    duration: 100
                }
            });

            $( "#listShow" ).click(function() {
                runEffect();
            });
        });
    </script>
    <!-- Script per la visualizzazione del dialogBox contenente il form di creazione di una nuova Segnalazione -->
    <script>
        $(document).ready(function() {
            var status="close";
            function runEffect() {
                if(status==="close") {
                    status="open";
                    $("#effectReports").dialog(status);
                }
                else {
                    status="close";
                    $("#effectReports").dialog(status);
                }
            }
            //Definisco le proprietà di comparsa/dissolvenza di un dialog
            $( "#effectReports" ).dialog({
                autoOpen: false,
                show: {
                    effect: "fade",
                    duration: 100
                },
                hide: {
                    effect: "fade",
                    duration: 100
                }
            });

            $( "#reportShow" ).click(function() {
                runEffect();
            });
        });
    </script>
    <script>
        $(function() {
            $(".dataTables_paginate a").addClass("button");
        });
    </script>
    <script>
        $(function() {
            $( "#searchType" ).accordion({
                active: false,
                collapsible: true,
                heightStyle: "content"
            });
        });
    </script>
    <script>
        $(function() {
            $( "#slider-range-min" ).slider();
        });
    </script>
</head>
<body>
<header>
    <!-- Menu -->
    <nav>
        <div id="logo">
            <a href="index.html" title="Vai alla Homepage"><img src="#" width="120" height="50" alt="CityNotifier"/></a>
        </div>
        <div id="menu">
            <ul>
                <li class="dropdown" id="login">
                    <a href="#" title="Effettua il Login" id="loginDropdown"> <div class="main_nav_label">Login</div> </a>
                    <!-- div di login -->
                    <div class="toggler">
                        <div class="ui-widget-content ui-corner-all" id="effectLogin">
                            <!-- Test Form Login -->
                            <form name="login" method="post" id="login_module">
                                <label for="username">Username</label>
                                <input id="username" type="email" name="username" placeholder="Nome Utente" required>
                                <label for="password">Password</label>
                                <input id="password" type="password" name="password" placeholder="Password" required>
                                <label for="selectServer">Server</label>
                                <select id="selectServer"></select>
                                <button id="loginButton" type="submit">Login</button>
                            </form>
                            <!-- End Test Form Login-->
                        </div>
                    </div>
                    <!-- fine div di login -->
                </li>
                <li id="refresh">
                    <a href="#" title="Aggiorna la Mappa" id="refreshShow"><div class="main_nav_label">Aggiorna</div></a>
                </li>
                <li id="search">
                    <a href="#" title="Cerca Situazioni" id="searchShow"><div class="main_nav_label">Cerca</div></a>
                </li>
                <li id="report">
                    <a href="#" title="Segnala" id="reportShow"><div class="main_nav_label">Segnala</div></a>
                </li>
                <li id="eventList">
                    <a href=# title="Visualizza la lista degli eventi attivi nel raggio selezionato" id="listShow"><div class="main_nav_label">Lista </div></a>
                </li>
                <li id="infoPage">
                    <a href="info.html" title="Informazioni sul progetto" id="infoPageOpener"><div class="main_nav_label">Informazioni</div></a>
                </li>
                <li id="notification">
                    <a href="#" title="Visualizza Centro Notifiche" id="notificationOpener"><div class="main_nav_label">Notifiche</div></a>
                </li>
            </ul>
        </div>
        <div id="welcomeMessage">
            <div>
                <p>Benvenuto </p>
                <span id="user"></span>
            </div>
        </div>
    </nav>
</header>
<!-- Area mappa -->
<div id="content">
    <section id="map-canvas"></section>
    <!-- Centro notifiche-->
    <section id="notificationCenterContainer">
        <div id="notificationCenterTitle">
            <h1>Ultimi Eventi</h1>
        </div>
        <ul>
            <li class="notification">
                <span class="type" title="Tipo">Incidente</span>
                <span class="notificationStatus" title="Stato">aperto</span>
                <span class="nroNotific" title="Numero Notifiche">2</span>
                <span class="reliability" title="Affidabilit&agrave;">0.8</span>
                <span class="creationDate" title="Data Creazione">14/10/1203</span>
                <span class="freshness" title="Freschezza">2 giorni</span>
            </li>
        </ul>
    </section>
</div>
<footer>
    <nav>
        <div>
            <a href="info.html" title="Info Gruppo Stark">Gruppo STARK</a>
        </div>
    </nav>
</footer>
<!-- Dialog di ricerca di un elemento -->
<div id="effectSearch" title="Ricerca di un evento" class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable">
    <!-- Search Form -->
    <form name="search" method="get" id="search_module">
        <div id="searchType">
            <h3>Title</h3>
            <div>
                <label id="subtypesLabels">Sottotipi</label>
                <div id="SearchSubtypes">
                    <input id="incidente" class="css-checkbox subtype" type="checkbox" />
                    <label for="incidente" class="css-label">Incidente</label>
                    <input id="coda" class="css-checkbox subtype" type="checkbox" />
                    <label for="coda" class="css-label">Coda</label>
                    <input id="buca" class="css-checkbox subtype" type="checkbox" />
                    <label for="buca" class="css-label">Buca</label>
                </div>
            </div>
        </div>
        <label for="radius">Raggio</label>
        <div id="radiusForm">
            <input type="text" id="radius" placeholder="Raggio (km)">
            <div id="slider-range-min"></div>
        </div>
        <div id="datePickForm">
            <label for="dateStart">Dal</label>
            <input id="dateStart" class="date">
            <label for="dateEnd">al</label>
            <input id="dateEnd" class="date">
        </div>
        <div id="remoteSearchContainer">
            <label for="remoteSearch">Ottieni risultati anche dagli altri server</label>
            <input id="remoteSearch" type=checkbox checked>
        </div>
        <div class="buttonContainer">
            <button type="reset" id="searchCancel">Cancella</button>
            <button type="submit" id="searchSubmit">Cerca</button>
        </div>
    </form>
    <!-- Search Form End -->
</div>
<!-- Form di inserimento di un evento -->
<div id="effectReports" title="Inserisci un nuovo Evento" class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable">
    <!-- Report Form -->
    <form name="report" method="post" id="report_module">
        <label for="ReporType">Tipologia</label>
        <select id="ReporType"></select>
        <label for="ReportSubtype" id="subtypesLabel">Sottotipo</label>
        <select id="ReportSubtype"></select>
        <label for="description">Descrizione</label>
        <textarea id="description" placeholder="Inserisci una descrizione..."> </textarea>
        <button type="reset" id="reportCancel">Cancella</button>
        <button type="submit" id="reportSubmit">Inserisci</button>
    </form>
    <!-- Report Form End -->
</div>
<!-- Lista degli eventi presenti ad un determinato raggio -->
<div id="effectList" title="Lista degli Eventi" class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable">
    <table id="eventListTable" class="bordered">
        <thead>
        <tr>
            <th>Tipo > Sottotipo</th>
            <th>Stato</th>
            <th>Affidabilit&agrave; (&#37;)</th>
            <th>N.ro Notifiche</th>
            <th>Creata il</th>
            <th>Ultima Segnalazione</th>
            <th>ID segnalazione</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>